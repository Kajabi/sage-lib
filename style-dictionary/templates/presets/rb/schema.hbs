#
# Sage Component Schemas
#
# Note: The contents of this file are generated by Style Dictionary
# and should not be modified directly here.
# See `/style-dictionary` directory for tokens and configurations.
#

{{#each components}}

#
# {{name}}
#
module {{name}}
  {{!-- First look in props for any with options and output options tokens --}}
  TOKENS = {
  {{#each tokens}}
    {{name}}: [
    {{#each options}}
      "{{{value}}}",
    {{/each}}
    ],
  {{/each}}
  }

  {{!-- Next look in props for any defaults to set up --}}
  DEFAULTS = {
  {{#each props}}
    {{name}}: {{{default.value}}},
  {{/each}}
  }

  {{!-- Lastly, output the actual Props type declaration --}}
  SCHEMA = {
  {{#each props}}
    {{#if comment}}
    # {{{comment}}}
    {{/if}}
    {{name}}: [
      {{#if required}}:optional,{{/if}}
      {{#if options}}
        # TODO: Can we do `TOKENS[:{{name}}]` here?
      Set.new([
        {{#each options}}
        "{{{value}}}",
        {{/each}}
      ]),
      {{else}}
      {{type.value}},
      {{/if}}
    ],
  {{/each}}
  }

  {{!-- Output the actual Props type declaration --}}
  SECTIONS = %w({{#each sections}}{{name}} {{/each}})
end
{{/each}}
