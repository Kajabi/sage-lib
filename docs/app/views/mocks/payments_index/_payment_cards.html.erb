<%= sage_component SagePanelTiles, { tiles_in_row: 3 } do %>
  <% payments_index_cards(with_data: with_data, payments_adopted: payments_adopted).each do | card | %>
    <%# TODO: Need to enable a while background on stat box %>
    <%= sage_component SageStatBox, {
      # TODO: Need to allow nil for change when no change needed
      change: (card[:change] ? {
        value: "#{card[:change][:value]}%",
        type: card[:change][:type],
      } : {
        value: "0",
        type: "neutral",
      }),
      data: card[:value].to_s,
      has_data: true,
      link: {
        # TODO: Need to make disabled value possible
        href: card[:more_url],
        value: card[:more_label],
      },
      raised: true,
      timeframe: card[:subtext],
      title: card[:name],
    } %>
  <% end %>
<% end %>
