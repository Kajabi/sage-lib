<%= sage_component SageSidebar, { id: "sage-sidebar-menu" } do %>
  <% if current_page_foundations? %>
    <%= sage_component SageNav, {
      items: [
        { link: pages_foundation_path(:design_principles), text: "FOUNDATIONS", items: [
          {
            text: "Design Principles",
            link: pages_foundation_path(:design_principles),
            active: current_page?(pages_foundation_path(:design_principles)),
          },
          {
            text: "Colors",
            link: pages_foundation_path(:color),
            active: current_page?(pages_foundation_path(:color)),
          },
          {
            text: "Typography",
            link: pages_foundation_path(:typography),
            active: current_page?(pages_foundation_path(:typography)),
          },
          {
            text: "Icons",
            link: pages_foundation_path(:icon),
            active: current_page?(pages_foundation_path(:icon)),
          },
          {
            text: "Tokens",
            link: pages_foundation_path(:token),
            active: current_page?(pages_foundation_path(:token)),
          },
          {
            text: "Content Strategy",
            link: pages_foundation_path(:content),
            active: current_page?(pages_foundation_path(:content)),
          },
          {
            text: "Vocabulary",
            link: pages_foundation_path(:vocabulary),
            active: current_page?(pages_foundation_path(:vocabulary)),
          }]
        }
      ]
    } %>
  <% end %>
  <% if current_page_layout? %>
    <%= sage_component SageNav, {
      items: [
        { link: pages_layout_path(:container), text: "LAYOUT", items: [
          {
            text: "Organization",
            link: pages_layout_path(:panels_cards),
            active: current_page?(pages_layout_path(:panels_cards)),
          },
          {
            text: "12 Col Grid",
            link: pages_layout_path(:grid),
            active: current_page?(pages_layout_path(:grid)),
          },
          {
            text: "Grid Templates",
            link: pages_layout_path(:grid_templates),
            active: current_page?(pages_layout_path(:grid_templates)),
          }
        ] }
      ]
    } %>
  <% end %>
  <% if current_page_patterns? %>
    <%= sage_component SageNav, {
      items: [
        { link: pages_patterns_path(:panels_cards), text: "PATTERNS", items: [
          {
            text: "Organization",
            link: pages_patterns_path(:panels_cards),
            active: current_page?(pages_patterns_path(:panels_cards)),
          },
          {
            text: "12 Col Grid",
            link: pages_patterns_path(:grid),
            active: current_page?(pages_patterns_path(:grid)),
          },
          {
            text: "Grid Templates",
            link: pages_patterns_path(:grid_templates),
            active: current_page?(pages_patterns_path(:grid_templates)),
          }
        ] }
      ]
    } %>
  <% end %>
  <% if current_page_interactions? %>
    <%= sage_component SageNav, {
      items: [
        { link: pages_interactions_path(:container), text: "INTERACTIONS", items: [
          {
            text: "Containers",
            link: pages_interactions_path(:container),
            active: current_page?(pages_interactions_path(:container)),
          }
        ] }
      ]
    } %>
  <% end %>
  <% if current_page_helpers? %>
    <%= sage_component SageNav, {
      items: [
        { link: pages_helpers_path(:spacing), text: "HELPERS", items: [
          {
            text: "Spacing",
            link: pages_helpers_path(:spacing),
            active: current_page?(pages_helpers_path(:spacing)),
          }
        ] }
      ]
    } %>
  <% end %>
  <% if current_page_components? %>
    <%
      component_list = []
      sorted_sage_components.each do |component|
        component_list << {
          text: component[:title].titleize,
          link: pages_component_path(component[:title]),
          active: current_page?(pages_component_path(component[:title])),
        }
      end
    %>
    <%= sage_component SageNav, {
      items: [
        { link: pages_component_path(sorted_sage_components[0][:title]), text: "COMPONENTS", items: component_list }
      ]
    } %>
  <% end %>

  <%= content_for :sage_sidebar_footer do %>
    <%= sage_component SageNav, {
      aria_label: "Secondary",
      items: [
        {
          text: "Sandbox",
          link: pages_sandbox_path,
          active: current_page?(pages_sandbox_path),
        }
      ]
    } %>
  <% end %>
<% end %>
