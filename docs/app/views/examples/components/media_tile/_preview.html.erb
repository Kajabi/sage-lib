<%
common_action_options = [
  {
    value: "Edit",
    attributes: { href: "#edit" }
  },
  {
    value: "Duplicate",
    attributes: { href: "#duplicate" }
  },
  {
    value: "Delete",
    attributes: { href: "#delete" }
  }
]

common_additional_actions = sage_component(SageButton, {
  value: "Preview",
  icon: { name: "preview-on", style: "only" },
  subtle: true,
  style: "secondary",
}) << sage_component(SageButton, {
  value: "Edit",
  icon: { name: "pen", style: "only" },
  subtle: true,
  style: "secondary",
})

common_footer = sage_component(SageButton, {
  value: "More",
  icon: { name: "arrow-right", style: "right" },
  subtle: true,
  style: "primary",
})

panels = [
  {
    body: %(
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        Etiam rhoncus aliquam odio, eget varius lacus sollicitudin ut.
      </p>
    ),
    caption: %(
      <p>Testing a caption that is not really long but still clamps to one line.</p>
    ),
    media: %(<img src="//source.unsplash.com/Ssj4uWXcvS4/600x400?1" />),
    media_configs: {
      aspect_ratio: "2x",
      background_color: "#A5BCC0",
      padded: true,
    },
    title: "Product Abra",
  },
  {
    body: %(
      <p>
        Praesent in magna in diam luctus accumsan.
      </p>
    ),
    caption: %(
      <p>Testing a caption that is not really long but still clamps to one line.</p>
    ),
    media: %(<img src="//source.unsplash.com/gkJCCn1hZDk/600x400?2" />),
    media_configs: {
      aspect_ratio: "2x",
      background_color: "#DBD7D5",
      padded: true,
    },
    title: "Product Cadabra",
  },
  {
    body: %(
      <p>
        Nam gravida, ligula vel varius porttitor, mauris lectus pulvinar orci, sit amet luctus tortor ipsum rutrum est.
      </p>
    ),
    caption: %(
      <p>Testing a caption that is not really long but still clamps to one line.</p>
    ),
    media: %(<img src="//source.unsplash.com/3lqEqS1s7mw/600x400?3" />),
    media_configs: {
      aspect_ratio: "2x",
      background_color: "#AEB8AD",
      padded: true,
    },
    title: "Product Jimminycricket",
  },
]
%>
<%= md('
NOTE: While `MediaTile` (singular) can be used on its own, it will commonly be implemented in a set.
Therefore, the `MediaTiles` (plural) component is used in examples here.
', use_sage_type: true) %>

<h3>Basic Tiles</h3>
<%= md('
Tiles can include a title, body, and caption. The title and caption clamp to one line, while the body clamps to two lines.
An optional footer can also be used to provide additional final content such as a primary action.
While typically a part of this component, the `media` area is also optional.
', use_sage_type: true) %>
<%= sage_component SageMediaTiles, {
  items: [
    {
      title: panels[0][:title],
      body: panels[0][:body],
      caption: panels[0][:caption],
      media: panels[0][:media],
      action_options: common_action_options,
      footer: common_footer,
    },
    {
      title: panels[1][:title],
      body: panels[1][:body],
      caption: panels[1][:caption],
      media: panels[1][:media],
      action_options: common_action_options,
      footer: common_footer,
    },
    {
      title: panels[2][:title],
      body: panels[2][:body],
      caption: panels[2][:caption],
      media: panels[2][:media],
      action_options: common_action_options,
      footer: common_footer,
    }
  ]
} %>

<h3>Actions</h3>
<%= sage_component SageMediaTiles, {
  items: [
    {
      title: "Plain and simple",
      body: md('Tiles do not have to include an actions area if its not needed.'),
      footer: common_footer,
    },
    {
      title: "Actions dropdown",
      body: md('Since an "options" dropdown is common, you can easily pass a list of items to this default slot.'),
      action_options: common_action_options,
      footer: common_footer,
    },
    {
      title: "Custom actions",
      body: md('Additional actions can be provided in lieu of or even in combination with the default dropdown.'),
      actions: common_additional_actions,
      footer: common_footer,
    }
  ]
} %>

<h3>Preset Aspect Ratios</h3>
<%= md('Media Tile exposes a few preset aspect ratios (shown below) but also allows for custom numeric ratios to be provided.
The default is to show images at their native aspect ratio, scaled to the width of the tile.') %>
<%= sage_component SageMediaTiles, {
  items: [
    {
      title: "1x Preset Aspect Ratio",
      body: md('This size fits a standard 16:9 ratio.'),
      media: panels[0][:media],
      media_configs: { aspect_ratio: "1x" }
    },
    {
      title: "2x Preset Aspect Ratio",
      body: md('This size is roughly twice the height of a typical content area below the image.'),
      media: panels[1][:media],
      media_configs: { aspect_ratio: "2x" }
    },
    {
      title: "3x Preset Aspect Ratio",
      body: md('This size is roughly twice the height of a typical content area below the image.'),
      media: panels[2][:media],
      media_configs: { aspect_ratio: "3x" }
    }
  ],
  html_attributes: { style: "align-items: start" }
} %>

<h3>Padding and Backgrounds</h3>
<%= sage_component SageMediaTiles, {
  items: [
    {
      title: "Default background",
      body: md('The default background color (which shows when `padded` is `true` is Grey 100.'),
      media: panels[0][:media],
      media_configs: {
        aspect_ratio: "2x",
        padded: true,
      }
    },
    {
      title: "Custom background",
      body: md('Custom colors can be provided as well in order to coordinate with key colors from the image.'),
      media: panels[1][:media],
      media_configs: panels[1][:media_configs]
    },
    {
      title: "Another custom background",
      body: md('Each tile can have its own custom background color if desired.'),
      media: panels[2][:media],
      media_configs: panels[2][:media_configs]
    },
  ]
} %>
