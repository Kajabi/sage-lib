<dialog
  class="sage-modal
    <%= "sage-modal--active" if component.active %>
    <%= "sage-modal--large" if component.large -%>
    <%= "sage-modal--fullscreen" if component.fullscreen -%>
    <%= "sage-modal--no-blur" if component.disable_background_blur -%>
    <%= component.css_classes.html_safe if component.css_classes.present? %>
  "
  <%= "data-sage-animate" if component.animate.present? %>
  <%= "data-js-remote-url=#{component.remote_url}" if component.remote_url.present? %>
  <%- if component.animate.is_a?(Hash) -%>
    <%- component.animate.each do |key, value| -%>
      <%= "data-sage-animate-#{ key }=#{ value }" %>
    <%- end -%>
  <%- end -%>
  <%= "data-js-modal-disable-close" if component.disable_close %>
  <%= "data-js-modal-remove-content-on-close" if component.remove_content_on_close %>
  data-js-modal="<%= component.id %>"
  <%= component.generated_html_attributes.html_safe %>
>
  <section class="sage-modal__container" data-js-modal-container tabindex="-1">
    <% if component.fullscreen %>
      <%= sage_component SageButton, {
        style: "secondary",
        subtle: true,
        value: "Close Modal",
        icon: { name: "remove", style: "only" },
        attributes: { "data-js-modal": true },
        css_classes: "sage-modal__close-btn",
      } %>
    <% end %>
    <% if component.content.present? %>
      <%= component.content %>
    <% else %>
      <%= sage_component SageModalContent, {} do %>
        <%= sage_component SageLoader, { type: "spinner" } %>
      <% end %>
    <% end %>
  </section>
</dialog>
