/* ==================================================
  ** _colors.scss

  For Sage documentation use
================================================== */

// ==================================================
// MIXINS
// ==================================================

// color block groupings
.colors {
  overflow: hidden;
  margin-block-start: sage-spacing();
  margin-block-end: sage-spacing();
  border-radius: sage-border(radius);
}

.colors__block {
  display: flex;
  flex-flow: column nowrap;
  align-items: center;
  justify-content: space-between;

  @media screen and (min-width: sage-breakpoint(lg-min)) {
    flex-direction: row;
  }
}

.colors__tokens {
  code {
    background-color: transparent;
  }
}

.colors__tokens-heading,
.colors__copy-btn,
.colors__copy-btn::before {
  .colors__classname-token &,
  .colors__hex-token & {
    color: inherit;
  }
}

// build individual color blocks
// Use sd-sage-color() directly for hex values (works with published npm version)
/* stylelint-disable max-nesting-depth */
@each $name, $color in $sage-colors {
  @each $value, $map in $color {
    // Get hex value directly from Style Dictionary
    $hex: sd-sage-color($name, $value, hex);

    // Determine class name for $value == 50
    $classname: ".color-#{"" + $name}-#{$value}";

    /* stylelint-disable max-nesting-depth, block-closing-brace-newline-after */
    // This should be numeric, not string
    @if ($value == 50) {
      $classname: ".color-#{"" + $name}-0#{$value}";
    }

    #{$classname} {
      padding: sage-spacing(sm) sage-spacing();
      font-size: sage-font-size(body);
      background: $hex;

      // Simple lightness-based contrast: white text on dark, black text on light
      @if (lightness($hex) < 55%) {
        color: #fff;
      }
      @else {
        color: sd-sage-color(grey, 950, hex);
      }

      &::after {
        content: "#{$hex}";
        padding-inline-start: sage-spacing(xs);
        font-weight: sage-font-weight(semibold);
        text-transform: uppercase;
      }
    }
    /* stylelint-enable max-nesting-depth, block-closing-brace-newline-after */
  }
}
/* stylelint-enable max-nesting-depth */

[class*="color-"]:only-child {
  border-radius: sage-border(radius);
}

.color-white-100 {
  border-radius: sage-border(radius);
  border: 1px solid sd-sage-color(grey, 300, hex);
  box-shadow: inset 0 0 0.0625rem sd-sage-color(grey, 300, hex);
}

.color-black-100 {
  color: #fff;
}
